<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hot Products List</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        .product {
            border: 1px solid #ddd;
            padding: 10px;
            margin: 10px;
            display: inline-block;
        }
        .product img {
            width: 100px;
            height: auto;
        }
    </style>
</head>
<body>

<div id="hot-list"></div>

<script>
    $(document).ready(function () {
        $.ajax({
            url: "/products/hot_list",
            type: "GET",
            dataType: "json",
            success: function (response) {
                if (response.state === 200 ) {
                    response.data.forEach(function (product) {
                        // Assuming the image data is already in base64 format
                        var productHtml = '<div class="product">' +
                            '<h3>' + product.title + '</h3>' +
                            '<img src="data:image/jpeg;base64,' + product.image + '" alt="' + product.title + '">' +
                            '<p>Price: $' + product.price + '</p>' +
                            '</div>';

                        $('#hot-list').append(productHtml);
                    });
                } else {
                    $('#hot-list').append('<p>No hot products found.</p>');
                }
            },
            error: function (xhr, status, error) {
                $('#hot-list').append('<p>Error fetching products.</p>');
            }
        });
    });
</script>

</body>
</html>